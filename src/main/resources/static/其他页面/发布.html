<!doctype html>
<html lang="en">

<head>
    <title>ä¸ªäººä¿¡æ¯</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!--æ³¨æ„å¼•å…¥cssæ–‡ä»¶ç”¨link-->
    <script scr="/bootstrap-4.3.1/js/bootstrap.min.js"></script>
    <link href="/bootstrap-4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!--vue.js-->
    <script src="/js/vue.js"></script>
    <!--axios.js-->
    <script src="/js/axios.min.js"></script>

    <style type="text/css">
        .toolbar {
            border: 1px solid rgb(0, 0, 0);
        }

        .text {
            border: 1px solid rgb(2, 2, 2);
            height: 400px;
        }
    </style>
</head>

<body>
    <div id="app" class="container">
        <div class="form-group">
            <small id="helpId" class="form-text text-muted">æ ‡é¢˜</small>
            <input type="text" class="form-control" v-model="title" name="" id="" aria-describedby="helpId"
                placeholder="">
        </div>
        <small id="helpId" class="form-text text-muted">æ­£æ–‡</small>
        <div id="editor"></div>
        <button @click="publish" class="btn bg-primary "> å‘å¸ƒ</button>
        <button class="btn bg-primary " onclick="editor.txt.clear();">æ¸…ç©º</button>


        <!-- <button id="btn1">è·å–html</button>
        <button id="btn2">è·å–text</button>
        <button id="btn3">è·å–json</button>
        <xmp id="dis">{{content}}</xmp>
        <xmp id="dis1"></xmp> -->
    </div>
    <script>
        var data = { title: '', html: '', content: '' };
        var app = new Vue({
            el: '#app',
            data: data,
            methods: {
                publish: function () {
                    if (this.title == '') {
                        alert("æ ‡é¢˜ä¸èƒ½ä¸ºç©º");
                        return 0;
                    }
                    this.content = editor.txt.text();
                    if (this.content == '') {
                        alert("å†…å®¹ä¸èƒ½ä¸ºç©º");
                        return 0;
                    }
                    var formdata = new FormData();
                    formdata.append("title", this.title);
                    this.html = editor.txt.html();
                    formdata.append("html", this.html);
                    axios.post("/dis/publish", formdata)
                        .then(res => {
                            alert("å‘å¸ƒæˆåŠŸï¼");
                        })
                        .catch(err => {
                            alert("å‘å¸ƒå¤±è´¥!");
                        })
                }
            },

        })
    </script>
    <script src="/wangEditor/wangEditor.js"></script>
    <script type="text/javascript">
        var E = window.wangEditor;

        var editor = new E(document.getElementById('editor'))
        //åˆ›å»ºä¹‹å‰è‡ªå®šä¹‰è§†å›¾
        editor.customConfig.menus = [
            // 'head',  // æ ‡é¢˜
            'bold',  // ç²—ä½“
            // 'fontSize',  // å­—å·
            // 'fontName',  // å­—ä½“
            'italic',  // æ–œä½“
            'underline',  // ä¸‹åˆ’çº¿
            'strikeThrough',  // åˆ é™¤çº¿
            'foreColor',  // æ–‡å­—é¢œè‰²
            'backColor',  // èƒŒæ™¯é¢œè‰²
            'link',  // æ’å…¥é“¾æ¥
            'list',  // åˆ—è¡¨
            'justify',  // å¯¹é½æ–¹å¼
            'quote',  // å¼•ç”¨
            'emoticon',  // è¡¨æƒ…
            // 'image',  // æ’å…¥å›¾ç‰‡
            'table',  // è¡¨æ ¼
            // 'video',  // æ’å…¥è§†é¢‘
            'code',  // æ’å…¥ä»£ç 
            'undo',  // æ’¤é”€
            'redo'  // é‡å¤
        ];
        editor.customConfig.emotions = [
            {
                // tab çš„æ ‡é¢˜
                title: 'emoji',
                // type -> 'emoji' / 'image'
                type: 'emoji',
                // content -> æ•°ç»„
                content: ['ğŸ˜€', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜', 'ğŸ˜†', 'ğŸ˜€', 'ğŸ˜', 'ğŸ˜‚', 'ğŸ¤£', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜…', 'ğŸ˜†', 'ğŸ˜‰', 'ğŸ˜Š', 'ğŸ˜‹', 'ğŸ˜', 'ğŸ˜', 'ğŸ˜˜', 'ğŸ˜—', 'ğŸ˜™', 'ğŸ˜š', 'ğŸ™‚', 'ğŸ¤—', 'ğŸ¤©', 'ğŸ¤”', 'ğŸ¤¨', 'ğŸ˜', 'ğŸ˜‘', 'ğŸ˜¶', 'ğŸ™„', 'ğŸ˜', 'ğŸ˜€', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜', 'ğŸ˜†', 'ğŸ˜€', 'ğŸ˜', 'ğŸ˜‚', 'ğŸ¤£', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜…', 'ğŸ˜†', 'ğŸ˜‰', 'ğŸ˜Š', 'ğŸ˜‹', 'ğŸ˜', 'ğŸ˜', 'ğŸ˜˜', 'ğŸ˜—', 'ğŸ˜™', 'ğŸ˜š', 'ğŸ™‚', 'ğŸ¤—', 'ğŸ¤©', 'ğŸ¤”', 'ğŸ¤¨', 'ğŸ˜', 'ğŸ˜‘', 'ğŸ˜¶', 'ğŸ™„', 'ğŸ˜', 'ğŸ˜€', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜', 'ğŸ˜†', 'ğŸ˜€', 'ğŸ˜', 'ğŸ˜‚', 'ğŸ¤£', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜…', 'ğŸ˜†', 'ğŸ˜‰', 'ğŸ˜Š', 'ğŸ˜‹', 'ğŸ˜', 'ğŸ˜', 'ğŸ˜˜', 'ğŸ˜—', 'ğŸ˜™', 'ğŸ˜š', 'ğŸ™‚', 'ğŸ¤—', 'ğŸ¤©', 'ğŸ¤”', 'ğŸ¤¨', 'ğŸ˜', 'ğŸ˜‘', 'ğŸ˜¶', 'ğŸ™„', 'ğŸ˜', 'ğŸ˜€', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜', 'ğŸ˜†', 'ğŸ˜€', 'ğŸ˜', 'ğŸ˜‚', 'ğŸ¤£', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜…', 'ğŸ˜†', 'ğŸ˜‰', 'ğŸ˜Š', 'ğŸ˜‹', 'ğŸ˜', 'ğŸ˜', 'ğŸ˜˜', 'ğŸ˜—', 'ğŸ˜™', 'ğŸ˜š', 'ğŸ™‚', 'ğŸ¤—', 'ğŸ¤©', 'ğŸ¤”', 'ğŸ¤¨', 'ğŸ˜', 'ğŸ˜‘', 'ğŸ˜¶', 'ğŸ™„', 'ğŸ˜', 'ğŸ˜€', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜', 'ğŸ˜†', 'ğŸ˜€', 'ğŸ˜', 'ğŸ˜‚', 'ğŸ¤£', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜…', 'ğŸ˜†', 'ğŸ˜‰', 'ğŸ˜Š', 'ğŸ˜‹', 'ğŸ˜', 'ğŸ˜', 'ğŸ˜˜', 'ğŸ˜—', 'ğŸ˜™', 'ğŸ˜š', 'ğŸ™‚', 'ğŸ¤—', 'ğŸ¤©', 'ğŸ¤”', 'ğŸ¤¨', 'ğŸ˜', 'ğŸ˜‘', 'ğŸ˜¶', 'ğŸ™„', 'ğŸ˜']
            }
        ];
        editor.create();
        // document.getElementById('btn1').addEventListener('click', function () {
        //     // è¯»å– html
        //     document.getElementById('dis').innerHTML = editor.txt.html();
        // }, false)

        // document.getElementById('btn2').addEventListener('click', function () {
        //     // è¯»å– text
        //     document.getElementById('dis').innerHTML = editor.txt.text();
        // }, false)
        // document.getElementById('btn3').addEventListener('click', function () {
        //     var json = editor.txt.getJSON()  // è·å– JSON æ ¼å¼çš„å†…å®¹
        //     var jsonStr = JSON.stringify(json)
        //     document.getElementById('dis').innerHTML = json;
        //     document.getElementById('dis1').innerHTML = jsonStr;
        // });
        //ä¸èƒ½ç²˜è´´å›¾ç‰‡
        editor.customConfig.pasteIgnoreImg = false;
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="/bootstrap-4.3.1/jquery-3.3.1.slim.min.js "></script>
    <script src="/bootstrap-4.3.1/popper.min.js "></script>
    <script src="/bootstrap-4.3.1/js/bootstrap.min.js "></script>
</body>

</html>