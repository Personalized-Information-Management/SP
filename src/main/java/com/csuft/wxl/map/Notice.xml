<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.csuft.wxl.map.NoticeMap">
	<!-- 根据学生id获取 parameterType="Student" -->
	<resultMap type="Student" id="StudentNotice">
		<id column="student_id" property="id"></id>
		<collection property="notices" ofType="Notice">
			<id column="id" property="id" />
			<result column="notice_courseid" property="notice_courseid" />
			<result column="notice_time" property="notice_time" />
			<result column="notice_content" property="notice_content" />
		</collection>
	</resultMap>
	<select id="selectNotice" resultMap="StudentNotice" parameterType="Student">
		select * from (SELECT student_id,course_id FROM
		student_course where student_id=#{id} and study=1) as course join notice
		on notice.notice_courseid=course.course_id
	</select>
</mapper>